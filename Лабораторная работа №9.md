# **РОCСИЙСКИЙ УНИВЕРСИТЕТ ДРУЖБЫ НАРОДОВ**
## Факультет физико-математических и естественных наук 
## Кафедра прикладной информатики и теории вероятностей 

## ОТЧЕТ
## ПО ЛАБОРАТОРНОЙ РАБОТЕ № 9

### *дисциплина: Операционные системы*

Студент: Губина Ольга Вячеславовна Группа: НПИбд-01-20

Преподаватель: Велиева Татьяна Рефатовна

МОСКВА 

2021 г.

---

### **Цель работы:**

Познакомиться с операционной системой Linux. Получить практические навыки работы с редактором vi, установленным по умолчанию практически во всех дистрибутивах.

### **Теоретические сведения:**

В данной лабораторной работе мы ознакомимся с редактором vi. Для этого сначала ознакомимся с теорией.

Интерактивный экранный редактор vi (Visual display editor) используется по умолчанию в большинстве дистрибутивов Linux в качестве текстового редактора.

Редактор vi имеет три режима работы:

- командный режим — предназначен для ввода команд редактирования и навигации по редактируемому файлу;

- режим вставки — предназначен для ввода содержания редактируемого файла;

- режим последней (или командной) строки — используется для записи изменений в файл и выхода из редактора.

Для вызова редактора vi необходимо указать команду vi и имя редактируемого файла:
```
vi <имя_файла>
```
При этом в случае отсутствия файла с указанным именем будет создан такой
файл.

Переход в командный режим осуществляется нажатием клавиши ```Esc```. 

Для выхода из редактора vi необходимо перейти в режим последней строки: находясь в командном режиме, нажать Shift-; (по сути символ : — двоеточие), затем:

- набрать символы wq, если перед выходом из редактора требуется записать изменения в файл;

- набрать символ q (или q!), если требуется выйти из редактора без сохранения.

*Замечание*: следует помнить, что vi различает прописные и строчные буквы при наборе (восприятии) команд.

*Основными группами команд* для редактора vi являются:

- Команды управления курсором;

- Команды позиционирования;

- Команды перемещения по файлу;

- Команды перемещения по словам;

- Команды редактирования:

    - Вставка текста;

    - Вставка строки;

    - Удаление текста;

    - Отмена и повтор произведённых изменений;

    - Копирование текста в буфер;

    - Вставка текста из буфера;

    - Замена текста;

    - Поиск текста;

- Команды редактирования в режиме командной строки:

    - Копирование и перемещение текста;

    - Запись в файл и выход из редактора;

- Опции.

### **Задачи:**

1. Ознакомиться с редактором vi;

2. Научиться создавать и редактировать файлы с помощью редактора vi;

3. Ознакомиться с командами vi, использовать их на практике.

---

### **Выполненеие работы:**

1. Ознакомились с теоретическим материалом, предложенным в материалах к *лабораторной работе №9* [[1]](https://esystem.rudn.ru/pluginfile.php/1142371/mod_resource/content/2/006-lab_vi.pdf).

2. Ознакомились с редактором vi, посредствам прочтения материалов и изучения команд для редактора. Подробнее с ними можно ознакомиться в *справочнике по редактору*[[2]](http://rsusu1.rnd.runnet.ru/unix/ucomm/vi.html)

3. Теперь выполним предложенные упражнения, используя команды vi.

***Задание 1. Создание нового файла с использованием vi***

1. Создадим каталог с именем ```~/work/os/lab06``` (*рисунок 1*). Каталог work уже был создан, поэтому перейдем в него через команду cd, в нем создадим каталог os через mkdir, перейдем в него, и там создадим каталог lab09.

*Рисунок 1: создание каталога ~/work/os/lab06:*

![](https://sun9-62.userapi.com/impg/7fDFRNkyRg6-KHq_rD-Od53tnKrkZIKutCCzcg/iYmVQU7MDlo.jpg?size=477x152&quality=96&sign=986101837c96833cded1556a85fe2e91&type=album)

2. Перейдем во вновь созданный каталог: ``` cd~/work/os/lab06``` (*рисунок 1*).

3. Вызовем vi и создадим файл hello.sh: ```vi hello.sh``` (*рисунок 2*). Поскольку файл первоначально создан не был, вызовом данной команды мы не только откроем его, но и создадим. Видим, что открылся пустой файл hello.sh (*рисунок 3*)

*Рисунок 2: вызов vi и создание файла hello.sh:*

![](https://sun9-12.userapi.com/impg/YbIly7E0xwr-urlM7tMn4iOyzj3Y5FkfZ91GEw/Z96I-mBigWc.jpg?size=662x50&quality=96&sign=214a217053effb8d58545e0a2fcc276d&type=album)

*Рисунок 3: открытие нового файла hello.sh:*

![](https://sun9-36.userapi.com/impg/gY8sQyz3W6wX3s1FcIUk4xlkGNZFDBg5SLRWdw/lv1fsWIgFrQ.jpg?size=734x503&quality=96&sign=525f2ce432ce637bb242deec19bfec76&type=album)

4. Нажмимаем клавишу i, тем самым входя в режим вставки (отображается в левом нижнем углу), и введем предложенный текст (*рисунок 4*).

*Рисунок 4: редактирование нового файла - ввод текста:*

![](https://sun9-13.userapi.com/impg/32j6-DYNygU4v192VydmQSdpUkpjjCpsk076_w/jC9eSbpHQ6M.jpg?size=742x504&quality=96&sign=0a0d2cea5c4e9d7fe0a6a6debc074e55&type=album)

5. Нажмем клавишу ```Esc``` для перехода в командный режим после завершения ввода текста.

6. Нажмем ```:``` для перехода в режим последней строки. Видим, что внизу нашего экрана появляется приглашение в виде двоеточия (*рисунок 5*).

7. Вводим после двоеточия ```w``` (записатьизменения) и ```q``` (выйти из редактора) (*рисунок 5*). Теперь нажмем клавишу ```Enter``` для сохранения нашего текста и завершения работы.

*Рисунок 5: режим последней строки:*

![](https://sun9-62.userapi.com/impg/wsPAyXE8dYaTMKvhJVwghRzzknRaCZBDH6a8mg/r7CEpdl-n-I.jpg?size=736x481&quality=96&sign=2e072b3ebc1dbebe22f824f771c9cce0&type=album)

8. Теперь делаем файл исполняемым (*рисунок 6*), воспользовавшимсь следующей командой:
```
chmod +x hello.sh
```

*Рисунок 6: делаем файл исполняемым:*

![](https://sun9-8.userapi.com/impg/HVo9NisngBSioOKVANsIbQ8xUz8eD-SQe4k7dg/uPWlP1nItxk.jpg?size=721x48&quality=96&sign=91072c3b69bccd2570b465feedb5ae3a&type=album)

***Задание 2. Редактирование существующего файла***

1. Вызовем vi на редактирование файла (*рисунок 7*) с помощью команды:
``` 
vi ~/work/os/lab06/hello.sh
```
*Рисунок 7: вызов vi на редактирование файла:*

![](https://sun9-21.userapi.com/impg/PkzsWKeErmFMvZqeuNNWy4kgLBopKUPsbm5axw/pGuztxlqTxE.jpg?size=593x54&quality=96&sign=c7775cb5fd29ccfa9fe2ab3347c8afca&type=album)

2. Видим, что открылся наш файл. Установим курсор в конец слова HELL второй строки (*рисунок 8*). Для передвижения будем использовать клавиши стрелок.

*Рисунок 8: передвижение курсора в конец слова HELL второй строки:*

![](https://sun9-33.userapi.com/impg/7quFSPPbrpOvCCiinmgp4goG2scyY-7mukp94g/T6URmx7cEQU.jpg?size=736x261&quality=96&sign=3524b55799c0980a58728433b6b6eb9b&type=album)

3. Перейдем в режим вставки нажатием клавиши i и заменим HELL на HELLO, просто дописав букву "О" (*рисунок 9*), предварительно пережвинемся в конец слова HELL клавишами стрелок (*пункт 2*). Теперь нажмем Esc для возврата в
командный режим.

*Рисунок 9: замена HELL на HELLO:*

![](https://sun9-59.userapi.com/impg/IIfJUk7UJy4jps3KTEFK6jcmDFo55iqemi35wg/sAVfbOoitas.jpg?size=739x483&quality=96&sign=335e02843a3de6fedeb3a10550c7a748&type=album)

4. Установим курсор на начало четвертой (*рисунок 10*) строки и командой ```d+w```, позволяющей стирать первое слово строки, сотрем слово LOCAL (*рисунок 11*).

*Рисунок 10: курсор на начало четвертой строки:*

![](https://sun9-13.userapi.com/impg/7oTioVbAZp5mANGlQoOUL2XR1kttdkBkqwD5vQ/uemEtRCgoLU.jpg?size=736x302&quality=96&sign=d74cd574eb7300013140dec142a6fd7b&type=album)

*Рисунок 11: стираем первое слово строки:*

![](https://sun9-60.userapi.com/impg/NX5upB1gsE-wNSDPSCOdCVPbL80USxbRmKRg8g/_nurwa8-Xns.jpg?size=739x300&quality=96&sign=151c19bf3272543e81d39f609b9ebd9e&type=album)

5. Перейдем в режим вставки ```i``` и наберем следующий текст: local (*рисунок 12*); и нажмем Esc для возврата в командный режим.

*Рисунок 12: ввод local:*

![](https://sun9-18.userapi.com/impg/a0vYwk4u8C-YeT9BkYrcrc_--QbdIu1YzwiBRw/FKz6_XP8WJY.jpg?size=734x482&quality=96&sign=1b5ee3f54b116c79309966a97f65f9c3&type=album)

6. Установим курсор на последней строке файла. Вставим после неё строку, содержащую следующий текст: echo $HELLO. Для этого сначала установим курсор на строке echo $HELLO и скопируем ее командой ```Y```, которая копирует строку, после клавишами стрелок перейдем на последнюю строку, а командой ```$``` перейдем в ее конец (*рисунок 13*), обратимся к команде ```p```, позволяющей вставить текст из буфера обмена после курсора. Таким образом мы скопировали строку echo $HELLO в конец текста (*рисунок 14*).

*Рисунок 13: курсор на конец последней строки:*

![](https://sun9-31.userapi.com/impg/rKDOyCip9CQrY38OeDTZp_THL2JWlBPRcQiILA/nBrNJZw2mVE.jpg?size=735x257&quality=96&sign=40eaef5eba2b3432b36d6361dd1f03e3&type=album)

*Рисунко 14: копирование-вставка предпоследней строки:*

![](https://sun9-37.userapi.com/impg/BfgUSCxoIdqvvOL5d2XHhH_W48GWHDBiBHZH8w/PWUIVGJT05U.jpg?size=735x285&quality=96&sign=feb7a5f927b8275caa20fee540575659&type=album)

7. Нажмем Esc для перехода в командный режим (хотя мы из него и не выходили).

8. Удалим последнюю строку (*рисунок 15*) - наведем на нее курсор и вызовем команду ```dd``` - удаление строки в буфер.

*Рисунок 15: удаление последней строки:*

![](https://sun9-74.userapi.com/impg/sB8lD8NwKMOHV3kfV28m_uhXu3mhzArHGLaYiA/14BuDZfhRuw.jpg?size=734x340&quality=96&sign=0ea3814d2b9dabf165fae53f8ea04cb2&type=album)

9. Введем команду отмены изменений u для отмены последней команды.Видим, что изменение было успешно удалено - удаленная строка вернулась на место(*рисунок 16*).

*Рисунок 16: отмена последнего действия:*

![](https://sun9-21.userapi.com/impg/aQOFwIYmCXIw5kzv3s52O3g5IQlGaTKODfE4fw/C3u4E8r07hw.jpg?size=737x481&quality=96&sign=8ca2b6d72666203c4dedb9ab1c69993b&type=album)

10. Введем символ : для перехода в режим последней строки. Запишите произведённые изменения и выйдите из vi. Для этого сначала укажем w и нажмем Enter для записи. После этого наберем ```:q``` для выхода из редактора. Или же сразу ```:wq``` (*рисунок 17*) - комбинация, позволяющая поочередно за один раз сначала сохранить изменения, а потом выйти. Ну и, конечно же, Enter. Видим, что мы вернулись к привычной командной строке (*рисунок 18*).

*Рисунок 17: сохранение и выход через режим последней строки:*

![](https://sun9-25.userapi.com/impg/YX1gJx8S0Pnj-QrXNao8ZPkggxAkXboPs5pt3A/nPLNcStUPV0.jpg?size=734x480&quality=96&sign=20c4f18d84782a9a2169f710e339d416&type=album)

*Рисунок 18: подтверждение выхода:*

![](https://sun9-46.userapi.com/impg/8eA3bAzqlAWNzSHVFy2o3J1CDeolyhfpN4r1eg/hB6vgnMX1gY.jpg?size=731x479&quality=96&sign=4df1a1119fb9d459926980fc86ac32fb&type=album)

---

## **Вывод:**

Познакомилась с операционной системой Linux. Получила практические навыки работы с редактором vi, установленным по умолчанию.

### **Библография:**

[1] [Лабораторная работа №9](https://esystem.rudn.ru/pluginfile.php/1142371/mod_resource/content/2/006-lab_vi.pdf)

[2] [Справочник по редактору vi](http://rsusu1.rnd.runnet.ru/unix/ucomm/vi.html)

