# **РОCСИЙСКИЙ УНИВЕРСИТЕТ ДРУЖБЫ НАРОДОВ**
## Факультет физико-математических и естественных наук 
## Кафедра прикладной информатики и теории вероятностей 

## ОТЧЕТ
## ПО ЛАБОРАТОРНОЙ РАБОТЕ № 8

### *дисциплина: Операционные системы*

Студент: Губина Ольга Вячеславовна Группа: НПИбд-01-20

Преподаватель: Велиева Татьяна Рефатовна

МОСКВА 

2021 г.

---

### **Цель работы:**

Освоение основных возможностей командной оболочки Midnight Commander.
Приобретение навыков практической работы по просмотру каталогов и файлов; манипуляций с ними.

### **Теоретические сведения:**

*Командная оболочка* — интерфейс взаимодействия пользователя с операционной системой и программным обеспечением посредством команд.

*Midnight Commander* (или mc) — псевдографическая командная оболочка для
UNIX/Linux систем.

Взаимодействия с mc:

- ```F1``` - Вызов контекстно-зависимой подсказки

- ```F2``` - Вызов пользовательского меню с возможностью создания и/или
дополнения дополнительных функций

- ```F3``` - Просмотр содержимого файла, на который указывает подсветка в
активной панели (без возможности редактирования)

- ```F4``` - Вызов встроенного в mc редактора для изменения содержания файла, на который указывает подсветка в активной панели

- ```F5``` - Копирование одного или нескольких файлов, отмеченных в первой
(активной) панели, в каталог, отображаемый на второй панели

- ```F6``` - Перенос одного или нескольких файлов, отмеченных в первой (активной) панели, в каталог, отображаемый на второй панели

- ```F7``` - Создание подкаталога в каталоге, отображаемом в активной панели

- ```F8``` Удаление одного или нескольких файлов (каталогов), отмеченных
в первой (активной) панели файлов

- ```F9``` - Вызов меню mc

- ```F10``` - Выход из mc

Более подробную информацию о *горячих клавишах Midnight Commander*[[1]](https://any-key.net/mcedit-hotkeys/) можно получить из интернета.

---

### **Выполнение работы:**

***Задание по mc***

1. Изучим информацию о mc, вызвав в командной строке ```man mc```(*рисунок 1*).

*Рисунок 1: изучение команды mc:*

![](https://sun9-65.userapi.com/impg/CQrshn8s5RUap6wvDWWXPnsHcm_tGkUSelKSRA/woRB2PbN2o4.jpg?size=736x500&quality=96&sign=b77a8adf73d0c33670c183ac560bf1af&type=album)

2. Запустим из командной строки mc, изучим его структуру и меню.

Можем заметить, что midnight commander имеет 2 пенели, на которых отображаются все файлы и каталоги домашнего каталога, меню, по средством которого мы можем управлять файлами, каталогами, настройками и прочим (*рисунок 2*).

*Рисунок 2: структура mc:*

![](https://sun9-7.userapi.com/impg/q9cuT29X8DlASoOyv6Y4YcG7G-P9TwdZEBZHug/3h6L8iOWgbo.jpg?size=1919x876&quality=96&sign=bda69392849f735ccc8fba52a733384a&type=album)

3. Выполним несколько операций в mc, используя управляющие клавиши.

- *операции с панелями:*

    - мы можем поменять панели местами нажатием клавиш ```Ctrl + u``` или нажатием кнопки в mc "поменять панели местами";
    - мы можем временно отключить панели, используя клавиши ```Ctrl + o```;
    - можно произвести сравнение каталогов нажатием ```Ctrl + x + d```;
    - можем перевести панели в режим "Информация" или "Дерево", используя панель управления mc, в нашем случае правая панель была переведена в режим "Дерево" (*рисунок 3*).

*Рисунок 3: изменение режима одной из панелей:*

![](https://sun9-22.userapi.com/impg/hFF8Ba0A6CvoQnSAIpW2tyXTy_2pKEmpkdbVAw/o2g3QmrEsAI.jpg?size=1919x876&quality=96&sign=49beb0fedb700b54e1865ec82ee76abb&type=album)

- *выделение файлов:*

    - выделение одного файла может быть произведено наведением на него курсора и нажатием клавиши ```Insert```. Заметим, что внизу панели отобразится размер выбранного файла и кол-во выбранных файлов (*рисунок 4*).

    *Рисунок 4: выбор одного файла:*

    ![](https://sun9-58.userapi.com/impg/3wqzyG1dAqd_57dMab5Oeqy_BVXVIHY3gWl5fw/Jg15gpT5WNs.jpg?size=945x71&quality=96&sign=058de2aaa5288f4b01b2daa5dc975af9&type=album)

    Снять выделение можно той же клавишей Insert.

    - для того, чтобы выделить группу файлов, необходимо нажать ```+``` (*рисунок 5*).

    *Рисунок 5: выделение группы файлов:*

    ![](https://sun9-41.userapi.com/impg/tkQXi-u_SW1pKLhwD9IWlLCgNsDxXJK4kbHRvA/yysHRL7rQbY.jpg?size=476x143&quality=96&sign=765c3b95cbf9ce72ab9dd3b07619990c&type=album)

    Чтобы снять выделение с группы файлов нужно нажать клавишу ```/```.

- *копирование файла* можно осуществить нажатием клавиши ```F5```, предварительно выбрав его, как это было описано ранее. После нажатия нам нужно будет указать, в какой каталог мы хотим скопировать файл (*рисунок 6*). В нашем случае мы копируем файл feathers в каталог australia, поэтому перейдем в этот каталог и проверим наличие в нем скопированного файла (*рисунок 8*).

*Рисунок 6: копирование файла:*

![](https://sun9-41.userapi.com/impg/2duoe_J9xF40xghfb3TNGxgL_bKfZRgh65d2zg/Xfg0tBPJdFA.jpg?size=669x264&quality=96&sign=3cf8f665d6aec9d03f8d832f2e962a92&type=album)

- *перемещение файла* производится клавишей ```F6```, предварительно выбрав его, как это было описано ранее. После нажатия нам нужно будет указать, в какой каталог мы хотим переместить файл (*рисунок 7*). В нашем случае мы перемещаем файл conf.txt в каталог australia, поэтому перейдем в этот каталог и проверим наличие в нем файла conf.txt (*рисунок 8*).

*Рисунок 7: перемещение файла:*

![](https://sun9-48.userapi.com/impg/xLtcUCatpE1WsxoPDYgUI3bv7av138OznxDUDw/cPWfSRGQ_Uc.jpg?size=665x262&quality=96&sign=bbe4b217d56e41d65830a56230f16f3b&type=album)

*Рисунок 8: результат копирования и перемещения файлов:*

![](https://sun9-36.userapi.com/impg/9hsQyBIQRq-tkuzWaz8zUJunYA7U-mtdeTzSgQ/6tpKAQLiYMA.jpg?size=734x503&quality=96&sign=deff168bebeae16f2b1ff8ac7915eca4&type=album)

- *информацию о правах доступа* к файлам мы можем получить из раздела меню <Файл --> Права доступа> или клавишами ```Ctrl-x c``` (*рисунок 9*).

*Рисунок 9: права доступа:*

![](https://sun9-4.userapi.com/impg/-kgYNNTSEVIvxFeoqqUdJPwxzK6dQauORvu6sQ/OQQ8j2VvO1s.jpg?size=736x498&quality=96&sign=fefc902991a45a989fab3f0128fc4f0b&type=album)

4. Выполним основные команды меню левой (или правой) панели. Будем идти по порядку.

Для этого будем менять команды в правой панели, а в левой будем выбирать файл. 

- *Информация.* здесь мы можем увидеть некоторые сведения о файле - его имя, расположение, права доступа, владельца, размер и т.д. (*рисунок 10*) Информация достаточно подробная.

*Рисунок 10: режим информации:*

![](https://sun9-63.userapi.com/impg/ncnayf153dJ9yNma7e6uSrwTGGpDwQs17dr8Ww/hLkJHW3Ln9s.jpg?size=736x503&quality=96&sign=f08707552d291ba5201f235bfe0288b3&type=album)

- *Быстрый просмотр.* Данная опция позволяет нам просмотреть содержимое файла прямо в панели, не открывая его (*рисунок 11*).

*Рисунок 11: быстрый просмотр:*

![](https://sun9-59.userapi.com/impg/bQT-9GuUK_YtChU3V4VftTb2imViVCwC2VYRqQ/gAArOU9-zxw.jpg?size=737x504&quality=96&sign=0dfbdbad2421ae049feedca4460dcba1&type=album)

- *Дерево.* Позволяет нам увидеть развернутое дерево каталогой устройства (*рисунок 12*).

*Рисунок 12: дерево каталогов:*

![](https://sun9-15.userapi.com/impg/fAfbhlHqnAp1Y3v8ggOPGmM-JIG7LgffGcuzTA/mNlq65gdEG4.jpg?size=737x502&quality=96&sign=092972c2419f1da29fb466648440e49e&type=album)

5. Используя возможности подменю Файл:

- просмотрим содержимое текстового файла file.txt прошлой лабораторной работы следующим образом <Файл --> Просмотр> (*рисунок 13*); 

    в данном режиме мы не можем редактировать файл;

*Рисунок 13: просмотр файла:*

![](https://sun9-27.userapi.com/impg/xK7O3kmvMhfdTEMjomCW5OEagLbI1zVdq0ObaA/TMdlMD5zciA.jpg?size=739x501&quality=96&sign=aa01511efbfb65771983d6d90915f9c9&type=album)

- теперь редактируем содержимое текстового файла file.txt (без сохранения результатов редактирования), напишум в первой строке наши действия (*рисунок 14*); 

    путь действий для этого - <Файл --> Правка>;

*Рисунок 14: редактирование файла:*

![](https://sun9-68.userapi.com/impg/OzcUndFBBnKVw_vwEsRZCTQWcVr45xEyVccc-g/ChxvVHBQlgo.jpg?size=739x503&quality=96&sign=00ba388987254347fba3bcd658d2bc41&type=album)

Нажимаем "Выйти" и на вопрос о сохранении изменений отечаем "Нет" (*рисунок 15*)

*Рисунок 15: выход без сохранения:*

![](https://sun9-76.userapi.com/impg/uGRYtqzYZrtg5UOkg5pruhyvyr8FHu2eRp2OBg/ym9emOxCB4c.jpg?size=472x185&quality=96&sign=b76d6f34bb64dcd57e881d50beb632b6&type=album)

- создадим каталог;

    для этого воспользуемся клавишей ```F7``` и введем имя нового каталога new_directory (*рисунок 16*), после чего проверим список файлов и каталогов домашнего каталога на его наличие (*рисунок 17*);

*Рисунок 16: создание катлога:*

![](https://sun9-20.userapi.com/impg/8r1wLpLSYpbBEv3YuUavWKEVO8FpZETcg3Zizw/3MFdy2G82_8.jpg?size=735x499&quality=96&sign=34f5f5b4556216059e72d5df9459c7c6&type=album)

*Рисунок 17: проверка создания каталога:*

![](https://sun9-7.userapi.com/impg/y1QJuRvr7N9ED2NqWxr0A3apTUrZVq0QnYDdmw/Qe29qb8Fkq8.jpg?size=360x375&quality=96&sign=0de5f25b4cf118137cd30d83c27b1ce1&type=album)

- копирование в файлов в созданный каталог;

    воспользуемся клавишей ```F5```, как мы это делали ранее, и скопируем все тот же файл feathers в наш новый каталог (*рисунок 18*);

*Рисунок 18: копирование в файлов в созданный каталог:*

![](https://sun9-76.userapi.com/impg/gfOVkaeXA3hZIM6Rq8yxrlnyhILznUSALp0p5Q/46f-xI7DJ88.jpg?size=735x499&quality=96&sign=6a0c327b4754fca50acf895c57e31cee&type=album)

проверим содержимое каталога new_directory (*рисунок 19*), видим, что копирование произошло успешно;

*Рисунок 19: проверка:*

![](https://sun9-29.userapi.com/impg/JRS87kofr5YG-IfDiYyZ5wwVW3Eaqm7Hrex1rQ/md-eva2AxGU.jpg?size=358x161&quality=96&sign=25b3cf12cd179298e4f60f1e1133ca5e&type=album)

6. С помощью соответствующих средств подменю Команда осуществим:

- поиск в файловой системе файла с заданными условиями - файла
с расширением .txt, содержащего строку .conf;

    для этого проделаем действия <Команда --> Поиск файла> и в открывшемся окне запишем наши критерии (*рисунок 20*);

*Рисунок 20: поиск файлов:*

![](https://sun9-43.userapi.com/impg/nkSiq8WrmIdpT5xKqxMAJP6Mml4wz5F8SdRS0A/9ssB2QsROXM.jpg?size=738x498&quality=96&sign=9d9ff575b2979fac35cb77dcb4fe6c3c&type=album)

Система нам выдаст результат, где мы увидим имена подходящих файлов и номера их строчек, удовлетворяющих нашему второму условию (*рисунок 21*).

*Рисунок 21: результат поиска файлов:*

![](https://sun9-22.userapi.com/impg/QW5qnPvCHGQnyoxa9S6P4YoujQOwMl6nBwaz2Q/faPYnJ9Lw-Q.jpg?size=736x502&quality=96&sign=e651d4ef206c0f0b42db6e9faefb4e99&type=album)

- выбор и повторение одной из предыдущих команд;

    <Команда --> История команд>

    высвечивается маленькое окошко, в котором будут отображатьсявсе наши предыдущие команды, выбираем одну из них (у нас это переход в каталог australia) и жмем Enter (*рисунок 22*).

*Рисунок 22: выполнение предыдущей команды:*

![](https://sun9-8.userapi.com/impg/oVEljlIJuRxxve3C3sPI0jV2i47swtg_keiCbw/p5dIGRi1vjU.jpg?size=518x164&quality=96&sign=37f9e90dbb681d5a8491982342e74465&type=album)


Видим, что мы действительно оказались в каталоге australia (*рисунок 23*).

*Рисунок 23: каталог australia:*

![](https://sun9-39.userapi.com/impg/W05dMh1xkU-zFwbORUNwGMNuY_hlub5U-wz1Cw/0PsnfGa7_xc.jpg?size=725x418&quality=96&sign=91d06a7b0da3fb4a5a4ec6e58fc22230&type=album)

- переход в домашний каталог;

    для того, чтобы вновь оказаться в домашнем каталоге нам нужно просто нажать Enter в командной строке, ну или же ввести привычную команду cd, видим, что все сделали верно (*рисунок 24*).

*Рисунок 24: переход в домашний каталог через Enter:*

![](https://sun9-68.userapi.com/impg/r72a_Z5r3lt-UEZUNlWRPBl6EwqOpoFvND3VxA/28Av2_Nkg_c.jpg?size=720x180&quality=96&sign=c870e7b571e0d439278f4d8f406b80ce&type=album)

- чтобы выполнить анализ файла меню и файла расширений, нам нужно в подменю "Команда" выбрать пункты "Редактировать файл расширений" и "Редактировать файл меню" (*рисунок 25*). Таким образом мы сможем просмотреть файл меню (*рисунок 27*) и файл расширений (*рисунок 26*) и изучить их. 

*Рисунок 25: анализ файла меню и файла расширений*

![](https://sun9-71.userapi.com/impg/-wbSmEwawoF-4YU7aLXgB2-VSy3RXvrQ2EDlSg/NNKbsmsO0Hw.jpg?size=402x82&quality=96&sign=3691aeade6967e27603ac2cb3ffca218&type=album)

*Рисунок 26: файл расширений:*

![](https://sun3-11.userapi.com/impg/MmErwldUNHkSEj4qBuAlCycH1Rdfh25jXozxDw/mfHoaYwF6LA.jpg?size=733x503&quality=96&sign=2384427d67a2c6e377208d6ab6e5b281&type=album)

*Рисунок 27: файл меню:*

![](https://sun9-40.userapi.com/impg/v3A3BdG3szB03L2_1xisAxsTnMJ3DbEsnr2kww/twal74Cj1kU.jpg?size=735x502&quality=96&sign=ba7aa5ab60bb653d3b6a27ff936e8602&type=album)

7. Вызовем подменю Настройки. Рассмотрим операции, определяющие структуру
экрана mc. Так, например, чтобы вызвать Fullscreen достаточно нажать клавишу ```F11``` (*рисунок 29*), для Show Hidden Files нужно проследовать пути <Настройки --> Настройки панелей>, у нас показ скрытых файлов уже включен (*рисунок 28*).

*Рисунок 28: Show Hidden Files:*

![](https://sun9-2.userapi.com/impg/-YJLDpP5OCyUSk4FdXU7YxvuBhDGbHhT3uRlEQ/pxij3FD5Jsw.jpg?size=734x503&quality=96&sign=ca3b6a61f7aa9b364890c4a963e5efe8&type=album)

*Рисунок 29: вход в полноэкранный режим:*

![](https://sun9-70.userapi.com/impg/UUQp23FfSoH9EQA_6VfFX1szAkaFjZRJke3LNg/1iRoRIU_5Ok.jpg?size=1919x1032&quality=96&sign=3eb8a4b8156867b2ac242cc5ec2b9f73&type=album)

***Задание по встроенному редактору mc***

1. Создадим текстовой файл text.txt командой touch (*рисунок 30*).

*Рисунок 30: создание тектового файла:*

![](https://sun9-39.userapi.com/impg/r6f4E275VyZKotQhJAXu8IQB8zY6P7kX3Fy7fg/NLpd1bcTn2o.jpg?size=578x46&quality=96&sign=f858f1916ca7e6b2164027e7e08ba818&type=album)

2. Переходим в mc редактор (*рисунок 30*) и с его помощью открываем файл text.txt (*рисунок 31*).

*Рисунок 31: открываем текстовый файл:*

![](https://sun9-68.userapi.com/impg/aB3J_glsnQvRTVFw--lxx3Hj93qf5wSt5OncZA/7u0LZ6Rum68.jpg?size=735x144&quality=96&sign=62328ad2cf7db265c6a6e4c8bfeabc69&type=album)

3. Вставим в открытый файл небольшой фрагмент текста из Википедии. Скопируем файл стандартным способом ```Ctrl + c```, вставим его в открытый в mc редакторе файл с помощтю комбинации ```Shift + Ins``` (*рисунок 32*).

*Рисунок 32: копирование текстового фрагмента в файл:*

![](https://sun9-21.userapi.com/impg/__aEuSawDryMRDX1HtXUxKzKD8vTh9yeG0PPPQ/WR5JRrV2E5E.jpg?size=986x401&quality=96&sign=af8b24e5b6c1265e4a702ed6155a0af6&type=album)

4. Проделаем с текстом следующие манипуляции, используя горячие клавиши:

    4.1. Удалим строку текста, направив на нее курсор (*рисунок 33*), нажатием клавиш ```Ctrl + y``` (*рисунок 34*).

    *Рисунок 33: удаление строки:*

    ![](https://sun9-21.userapi.com/impg/__aEuSawDryMRDX1HtXUxKzKD8vTh9yeG0PPPQ/WR5JRrV2E5E.jpg?size=986x401&quality=96&sign=af8b24e5b6c1265e4a702ed6155a0af6&type=album)

    *Рисунок 34: удаление строки:*

    ![](https://sun9-39.userapi.com/impg/9eLY8oE-OLJWBp-CSfcG9H3Nyaudsa_RcDRPLw/xxD1uR1l6Sc.jpg?size=987x286&quality=96&sign=c031cfad8152e3dbeed0b078a1a899eb&type=album)

    4.2. Выделим фрагмент текста и скопируем его на новую строку (*рисунок 35*). Для этого сначала выберем фрагмент (последнюю строку), нажмем Enter, чтобы перенести копирование на след. строку, теперь нажмем клавишу ```F5```, чтобы скопировать.

    *Рисунок 35: копирование фрагмента на следующую строку:*

    ![](https://sun9-17.userapi.com/impg/yJKhFDjxZBHAU_RTbH7nK5o7h02oxAlxwqH4_Q/bNDT9c-kTmU.jpg?size=985x376&quality=96&sign=6f50b433ac04f3ca3a3a7c5dc674926b&type=album)

    4.3. Выделим фрагмент текста и перенесем его на новую строку (*рисунок 36*). Для этого сначала выделим фрагмент (пятая строка), нажмем клавишу ```F6```, которая позволяем перемещать фрагменты, далее жмем Enter, чтобы переместить строку на новую.

    *Рисунок 36: перемещение фрагментов:*

    ![](https://sun9-10.userapi.com/impg/A-r-GzbJeBNrGeAhNuETagOXGJ0L2hdA3W6BGg/ZP8jsvrzcgY.jpg?size=984x316&quality=96&sign=561a5c80bcc0f0f524c5820806c297f3&type=album)

    Видим, что строка переместилась.

    4.4. Сохраним файл. Для этого на нижней панели редактора нажмем "Сохранить" (*рисунок 37*).

    *Рисунок 37: сохранение:*

    ![](https://sun9-17.userapi.com/impg/jqjLL-2IDOt4Ie-amDgZnef1szQwRdWdM0JJ3g/k9CStNOJSCw.jpg?size=981x624&quality=96&sign=6bf9635d5f01907b9295fdffa00a23f2&type=album)

    4.5. Отменим последнее действие. Поскольку мы уже сохранили файл, допишем что-то в конце (*рисунок 38*). Отмена действий производится нажатием ```Ctrl + u```. Выполняем данную комбинацию клавиш и видим, что наши предыдущие дуствия отменяются (*рисунок 39*).

    *Рисунок 38: изменение файла:*

    ![](https://sun9-35.userapi.com/impg/lRUioKo_Tb_p52qK6gxUEJL7mbyQToVbpPwa9g/W7zCZXnHbpU.jpg?size=447x153&quality=96&sign=7e208ead3a6e0cd975caef9c0cfdebb2&type=album)

    *Рисунок 39: отмена изменений:*

    ![](https://sun9-61.userapi.com/impg/5N6Rr0XMpKktMo4Exf_le__3S8XMz-3R2LSyaw/T_npnT2PTbU.jpg?size=257x94&quality=96&sign=0e31a367dc75af9686f875e21d6a08db&type=album) 

    4.6. Перейдем в конец файла, нажав комбинацию клавиш ```Ctrl + End```, и напишите некоторый текст ("Некоторый текст") (*рисунок 40*).

    *Рисунок 40: изменение в конце текста:*

    ![](https://sun9-48.userapi.com/impg/qYNK8Ka50ZGVcFab79j2BBlEJO88V3PKPsnyiw/HM2A0DlwQTQ.jpg?size=987x297&quality=96&sign=614ce5409f6ad13c31906197c644cfeb&type=album)

    4.7. Перейдем в начало файла, нажав комбинацию клавиш ```Ctrl + Home```, и напишем некоторый текст ("Некоторый текст") (*рисунок 41*).

    *Рисунок 41: изменение в начале текста:*

    ![](https://sun9-59.userapi.com/impg/rO-Noap4aZnEtmLdrNUctAJdGSC_32SaTmrwyw/VFhJTBqt7Qk.jpg?size=982x310&quality=96&sign=e8617d0e6c1444bda0f643dca659aea6&type=album)

    4.8. Сохраним изменения и закроем файл.

5. Откроем файл quick.cpp с исходным текстом на языке программирования С/С++ (*рисунок 42*).

*Рисунок 42: открыли файл:*

![](https://sun9-5.userapi.com/impg/TbrqwJ8i1qh8cgPHUlGteeWNbRYpntnldceotA/VzIPY4Rr6H0.jpg?size=1201x790&quality=96&sign=4d753d527b7011c819283373e79f9a9d&type=album)

6. Видим, что подсветка синтаксиса уже включена. Используя меню редактора, выключим подсветку синтаксиса (*рисунок 43*). Для этого в подменю "Команда" выберем "Включить/выключить подсветку синтаксиса" (*рисунок 44*). Также можно было воспользоваться клавишами ```Ctrl + s```.

*Рисунок 43: отключение подсветки:*

![](https://sun9-72.userapi.com/impg/0Wtnm9oxHgo_kgeTkU5NM0dN6R6zQ85coT01ZQ/lHdmlnMFfRA.jpg?size=1305x517&quality=96&sign=0123296c00bfe99c7de93eec63dd19a7&type=album)

*Рисунок 44: отключение подсветки:*

![](https://sun9-35.userapi.com/impg/Tw71rp0SYua9idthRm4bm4cE08CZ0hoDOER6XA/hs2R6YJ7KBI.jpg?size=561x475&quality=96&sign=701a5cffc68085b6abf7f766b57b176e&type=album)

---

## **Вывод:**

Освоила основные возможности командной оболочки Midnight Commander. Приобрела навыки практической работы по просмотру каталогов и файлов; манипуляций с ними.

### **Библиография:**

[1] [Горячие клавиши Midnight Commander](https://any-key.net/mcedit-hotkeys/)