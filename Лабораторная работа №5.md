# **РОCСИЙСКИЙ УНИВЕРСИТЕТ ДРУЖБЫ НАРОДОВ**
## Факультет физико-математических и естественных наук 
## Кафедра прикладной информатики и теории вероятностей 

## ОТЧЕТ
## ПО ЛАБОРАТОРНОЙ РАБОТЕ № 5

### *дисциплина: Операционные системы*

Студент: Губина Ольга Вячеславовна Группа: НПИбд-01-20

Преподаватель: Велиева Татьяна Рефатовна

МОСКВА 

2021 г.

---

### **Цель работы:**

Приобретение практических навыков взаимодействия пользователя с системой посредством командной строки.

### **Теоретические сведения:**

В данной лаботаторной работе нам придется в заимодействовать непосредственно с командой строкой, поэтому предварительно нам необходимо ознакомиться с *основными командами*[[1]](https://www.hostinger.ru/rukovodstva/osnovnyje-komandy-linux) консоли и их синтаксисом. Далее будет приведена подробная информация об использовании командной строки.

**Формат команды.** Командой в операционной системе называется записанный по
специальным правилам текст (возможно с аргументами), представляющий собой
указание на выполнение какой-либо функций (или действий) в операционной системе. Обычно первым словом идёт имя команды, остальной текст — аргументы
или опции, конкретизирующие действие.

Общий формат команд можно представить следующим образом:
```
<имя_команды><разделитель><аргументы>
```
Команда ```man```. Команда man используется для просмотра (оперативная помощь)
в диалоговом режиме руководства (manual) по основным командам операционной
системы типа Linux.

Формат команды:
```man <команда>```

Пример (вывод информации о команде man):
```man man```

**Команда ```cd```.** Команда cd используется для перемещения по файловой системе
операционной системы типа Linux.

Формат команды:
```cd [путь_к_каталогу]```

Для перехода в домашний каталог пользователя следует использовать команду
cd без параметров или cd ~.

**Команда ```pwd```.** Для определения абсолютного пути к текущему каталогу используется команда ```pwd``` (print working directory).

Пример (абсолютное имя текущего каталога пользователя dharma):
pwd

результат:
```
/afs/dk.sci.pfu.edu.ru/home/d/h/dharma
```
Данные команды были приведены в качестве примера для ознакомления с синтаксисом. Подробнее ознакомиться со всеми командами системы можно по ссылке указанной выше ([[1]](https://www.hostinger.ru/rukovodstva/osnovnyje-komandy-linux)) или в библиографии.

---

### **Выполнение работы:**

1. Нам нужно определить полное имя домашнего каталога, далее относительно которого будут выполняться последующие действия.

Для этого сначала перейдем в домашний каталог командой ```cd```, а после воспользуемся командой ```pwd```, позволяющей узнать полное имя текущего каталога (*рисунок 1*).

*Рисунок 1: полное имя домашнего каталога:*

![](https://sun9-22.userapi.com/impg/4VPPL4-YgzpKydF9ZTyBXJ4Kg5PcmpdM8d_Lbw/Q1R1cT0WxrU.jpg?size=723x89&quality=96&sign=05642d0f50c46381a9942c6bf271e4c6&type=album)

Видим, что домашний каталог имеет полное имя ```/home/ovgubina```, где ovgubina - имя пользователя.

2. Выполняем следующие действия:
    
    2.1. Переходим в каталог /tmp, воспользовавшись командой ```cd /tmp``` (*рисунок 2*).

    *Рисунок 2: переход в каталог /tmp*

    ![](https://sun9-49.userapi.com/impg/HEvm8WXMiWTI-BMczwlEOVVM9F9nTlGYlNb7Jw/SFjxTrcSKGA.jpg?size=708x61&quality=96&sign=31cf9e9016a61ef1ac4134f8de99c85e&type=album)

    2.2. Выводим на экран содержимое каталога /tmp командой ```ls``` с различными опциями. 

    Сперва вводим ```ls``` без опций (*рисунок 3*), это позволит нам увидеть содержимое каталога без скрытых файлов, их типов и т.д., то есть, мы увидим лишь названия файлов и каталогов, хранящихся в каталоге /tmp.

    *Рисунок 3: вывод команды ls*

    ![](https://sun9-71.userapi.com/impg/xwvP49ceULWLk9JocdCnp4J-yDLjploRkzLEAQ/SGlu-xMh-_A.jpg?size=721x413&quality=96&sign=91273f619c581fbd0556be47ca6db51e&type=album)

    Теперь просмотрим содержимое каталога вызовом команды ```ls -a``` (*риуснок 4*). Таким образом мы увидим еще и скрытые файлы (они подсвечены зеленым), которые используются для настройки среды.

    *Рисунок 4: вызов команды ls -a*

    ![](https://sun9-51.userapi.com/impg/EWKucxuwQTBOYSwuFdalVVPkvwJ6L20FGT3piQ/XqNHdxosLto.jpg?size=723x397&quality=96&sign=ff496187e09df27e010956ebf1ce6573&type=album)

    Просмотрим каталог, воспользовавшись командой ```ls -F``` (*рисунок 5*), которая выведет на экран содержащиеся в каталоге файлы с обозначением их типов:

    - / - каталог;
    - `*` - исполняемый файл;
    - @ - ссылка.

    *Рисунок 5: вывод команды ls -F*

    ![](https://sun9-38.userapi.com/impg/60gl919EI1iA1v7cBZftFr2tfMc2hnRkqOPAcQ/cn4nb-cY-8g.jpg?size=723x412&quality=96&sign=2501615641615dc1b1e90a6413138c15&type=album)

    Далее введем команду ```ls -l``` (*рисунок 6*), которая позволит нам просмотреть подробную информацию о каждом файле каталога, а именно: его тип, право доступа, число ссылок, владельца, размер, дату последней ревизии, имя файла или каталога.

    *Рисунок 6: вывод команды ls -l*

    ![](https://sun9-32.userapi.com/impg/tSG4C60jzx22pG96oRiHxNooXRC3I0BW-eETVA/1fgzyXygxbI.jpg?size=847x436&quality=96&sign=4e619b6773bb624fd542577740450f52&type=album)

    Мы также можем воспользоваться командой ```ls -alF``` (*рисунок 7*), чтобы объединить все вышеперечисленные команды. Тогда на выходе мы получим список всех файлов, даже скрытых как при -a, с обозначением их типа как в -F и с подробной информацией как при -l. 

    *Рисунок 7: вывод ls -alF*

    ![](https://sun9-27.userapi.com/impg/1E0RD15qeQkuwzeMLN4g6NAXldZ29IEaN-_pTA/mHPAAITM8mA.jpg?size=848x487&quality=96&sign=178e784296519d27c1bc2cf5c755a8da&type=album)

    2.3. Теперь нам нужно определить, есть ли в каталоге ```/var/spool``` подкаталог с именем ```cron```. Для этого командой ```cd /var/spool``` перейдем в данный каталог и выведем его содержимое с помощью ```ls -a``` (*рисунок 8*).

    *Рисунок 8: поиск подкаталога cron в каталоге /var/spool*

    ![](https://sun9-22.userapi.com/impg/sc9lKdyLRrk_IBQGUd3P7dFDHqx5YxrjgRpOBA/L4UDCyUDdBY.jpg?size=844x93&quality=96&sign=210d9627fb44df52b6790209e1d2fd51&type=album)

    Видим, что подкаталог cron действительно находится в данном подкаталоге (он подсвечен синим).

    2.4. Теперь перйдем в наш домашний каталог (```cd```) и выведим на экран его содержимое (```ls -l```, чтобы увидеть подробную информацию о файлах, в том числе и об их пользователе) (*рисунок 9*).

    *Рисунок 9: содержимое домашнего каталога*

    ![](https://sun9-55.userapi.com/impg/uW0p2A_WYf3oqw3bRMpAETAZC-IjvR4M-noNRA/RT2ZIIxvM8E.jpg?size=849x238&quality=96&sign=5d9cbd07fe3209bc0fd663ec0e44a67a&type=album)

    Видим, что владельцем файлов и подкаталогов является пользователь ovgubina, то есть я.

3. Выполняем следующие действия:

    3.1. В домашнем каталоге создаем новый каталог с именем newdir (*рисунок 10*). Для этого воспользуемся командой ```mkdir newdir```, предварительно перейдя в домашний каталог - cd. После проверяем, создали ли мы его, просматривая содержимое домашнего каталога командой ```ls -a```.

    *Рисунок 10: создание каталога newdir*

    ![](https://sun9-29.userapi.com/impg/Rx-49UtgV5ewdEFYMZzRD5sL0x5viIUVU1g9eg/cHaoj-XXL_s.jpg?size=839x216&quality=96&sign=0b794a8d6b4921ddf95082034638cc97&type=album)

    Видим, что каталог был создан успешно.

    3.2. Перейдем в каталог ~/newdir (```cd ~/newdir```) и создадим в нем подкаталог morefun (```mkdir morefun```), после чего проверим верность наших действий (```ls -a```) (*рисунок 11*).

    *Рисунок 11: создание подкаталога morefun в каталоге ~/newdir*

    ![](https://sun9-69.userapi.com/impg/4xkKDI2ZFKakWFfafUJoddEps-BWqF2GUFwQ_g/Gw0usSsJE8I.jpg?size=596x89&quality=96&sign=81fe79c4519f5f95e4e6cb1a6c84b0b7&type=album)

    Видим, что подкаталог действительно был создан.

    3.3. Переходим в домашний каталог - cd. В домашнем каталоге создаем одной командой три новых каталога с именами letters, memos, misk - ```mkdir letters memos misk```, и проверяем, просматривая домашний каталог ```ls -a``` (*рисунок 12*). Затем удаляем эти каталоги одной командой - ```rm -r letters memos misk```, проверяем - ```ls -a``` (*рисунок 13*).

    *Рисунок 12: создание каталогов letters, memos, misk*

    ![](https://sun9-11.userapi.com/impg/5WV__8wybtZp4hPXp0mAYjYELYGfkQd_oqN2bA/-Smoj4vbmuQ.jpg?size=843x199&quality=96&sign=833ab60468b647ede9d17d2c153416c7&type=album)

    *Рисунок 13: создание каталогов letters, memos, misk*

    ![](https://sun9-42.userapi.com/impg/6JCWbTebX-UqU6V0_Q3ll_WEVST_v_xCkWNL7A/q_uwZ7LpLK4.jpg?size=846x198&quality=96&sign=9007fedb9026e379049c365fdc5f98ad&type=album)

    Смотрим на результаты команды ```ls -a``` и видим, что все выполнено верно.

    3.4. Пробуем удалить ранее созданный каталог ~/newdir командой rm. Проверяем, был ли каталог удалён - ```ls -a``` (*рисунок 14*).

    *Рисунок 14: попытка удалить каталог ~/newdir*

    ![](https://sun9-20.userapi.com/impg/nM4y_L1ETRxBXjYAkPQBgs6DzVqdusQkYI07xA/eru4rHAjcB4.jpg?size=838x220&quality=96&sign=39662a275a1243fe5dac62aeb5a120e3&type=album)

    Видим, что каталог удалить не удалось. Произошло это потому, что мы использовали команду удаления без ключей, в таком случае она является командой удаления файлов, а иы пытались удалить каталог.

    3.5. Удаляем каталог ~/newdir/morefun из домашнего каталога - ```rm -r ~/newdir/morefun```. Проверяем, был ли каталог удалён, просматриваем домашний каталог - ```ls -a```. (*рисунок 15*)

    *Рисунок 15: удаление каталога ~/newdir/morefun из домашнего каталога*

    ![](https://sun9-13.userapi.com/impg/3p0CVEfqyi_A19ugk7r4UVB8jWIKL-5IdhDETg/Utve059dfQM.jpg?size=835x202&quality=96&sign=aa33343427534abdd489bb39f3499854&type=album)

    Видим что каталог morefun был успешно удален.

4. С помощью команды ```man ls``` определяем, какую опцию команды ls нужно использовать для просмотра содержимого не только указанного каталога, но и подкаталогов, входящих в него (*рисунок 16*).

*Рисунок 16: использование man для получения информации о ls*

![](https://sun9-15.userapi.com/impg/O9E2-WwBTZ-ahED5kcOWnPa_8D80z50cIQ8CWQ/WQAlr7HBw4c.jpg?size=405x38&quality=96&sign=94184e39274019386f8f84722a9e2f4b&type=album)

Простматриваем результат выполнения команды man и находим нужный нам ключ, позволяющий просматривать содержимое каталога и его подкаталогов одновременно. Это рекурсивный просмотр - ```опция -R``` (*рисунок 17*).

*Рисунок 17: рекурсивный просмотр; опция -R*

![](https://sun9-66.userapi.com/impg/cjm-5G0gLrXdomtI8mRf5SKYJvA_fpb20heyTA/HYaioBndDY8.jpg?size=722x53&quality=96&sign=1353ef137644284f330bb52c98e25b27&type=album)

5. Теперь с помощью все той же команды man определяем набор опций команды ls, позволяющий отсортировать по времени последнего изменения выводимый список содержимого
каталога с развёрнутым описанием файлов. Просматривем свывод команды man из *пункта 4* и находим искомые опции. 

Это опция ```-l```, позволяющая вывести список содержимого
каталога с развёрнутым описанием файлов (*рисунок 18*), и опция ```-t``` - сортировка по времени последнего изменения выводимого списка содержимого каталога (*рисунок 19*).

*Рисунок 18: опция ```-l``*

![](https://sun9-35.userapi.com/impg/2cCUtx9AoKoFuFBicxSXcXFOjxFzjRgL3_-Zmg/2sL48mvZcn8.jpg?size=438x41&quality=96&sign=d768bd537baf5b60629aa26f876068d2&type=album)

*Рисунок 19: опция ```-t```*

![](https://sun9-46.userapi.com/impg/2f_clgi1P0Lj2fDNl9_NWKVcUEb5-G3N2QKLAQ/vj3HxAPYTCw.jpg?size=495x41&quality=96&sign=0ea745e08320b7f5ab60a2317fd1f08b&type=album)

6. Далее используем команду man для просмотра описания следующих команд: cd, pwd, mkdir, rmdir, rm (*рисунок 20*) и просматриваем рузультаты каждой из них (*рисунки 21-26*).

*Рисунок 20: man для просмотра описания cd, pwd, mkdir, rmdir, rm*

![](https://sun9-65.userapi.com/impg/uQFxuj2pyFpOMYzlSklMfxBX3-RY_4DPJlCN2Q/mxTVR1xJjSU.jpg?size=846x125&quality=96&sign=559ae5677e3d2d33e8154607a8fe0cbb&type=album)

*Рисунок 21: вывод man для cd*

![](https://sun9-14.userapi.com/impg/JXBHeTzqF29webd0jrxMorN9VeeRHVdqjI1jKw/KbNy1nIoohM.jpg?size=795x306&quality=96&sign=e97c9c8f91cc3c8a23b5492e25a8794d&type=album)

Таким образом для **cd** основные опции это (*рисунок 21*):

- -L - переходит по символическим ссылкам только после того, как были обработаны переходы на одну директорию выше "..";
- -R - позволяет следовать по символическим ссылкам перед тем, как будут обработаны все переходы "..";
- -e - если папку, в которую нужно перейти не удалось найти - выдает ошибку.

*Рисунок 22: Вывод man для pwd*

![](https://sun9-47.userapi.com/impg/2Qx0cN0EW11SV3cPRiiB5IyjjSx8AySv6GM97g/cDAXwJru4C8.jpg?size=651x302&quality=96&sign=8cd24ae4b3fadc61400a6ed4f3160003&type=album)

Таким образом для **pwd** основные опции это (*рисунок 22*):

- ```-L, --logical``` - берет директорию из переменной окружения, даже если она содержит символические ссылки;
- ```-P, --physycal``` - отбрасывает все символические ссылки;
- ```--help``` - отображает справку по утилите;
- ```--version``` - отображает версию утилиты.

*Рисунок 23: вывод man для mkdir*

![](https://sun9-33.userapi.com/impg/iCnYEtat4Q13Qy3uOLf7KboWP_3jJLKdiZ3OsA/76_KcdXW1DU.jpg?size=857x567&quality=96&sign=60caa367a0c0784880cb47a18e1e732a&type=album)

Таким образом для **mkdir** основные опции это (*рисунок 23*):

- ```-m``` - назначить режим доступа (права). По умолчанию mod принимает значение 0777, что обеспечивает неограниченные права;
- ```-p``` - не показывать ошибки, а также их игнорировать;
- ```-v``` - выводить сообщение о каждом новым каталоге;
- ```-z``` - принимает контекст SELinux для каталога по умолчанию;
- ```--context``` - то же, что и -z;
- ```--help``` - вывести справочную информацию;
- ```--version``` - выводит информацию о текущей версии утилиты.

*Рисунок 24: вывод man для rmdir*

![](https://sun9-30.userapi.com/impg/sTS4kFXQ3Hqi8d0gHLzPWJ2gO3_CKFEv1hA3mg/GS2_1aqR_SU.jpg?size=859x571&quality=96&sign=0144d60d4f282d92a4f3f4d50cfa7ef5&type=album)

Таким образом для **rmdir** основные опции это (*рисунок 24*):

- ```--ignore-fail-on-non-empty``` - игнорирует ошибки вызванные тем, что каталог непустой;
- ```-p``` - удаляются также каталоги высшего уровня, если они пустые;
- ```-v``` - подавление сообщения, выдаваемого при действии опции -p;
- ```--help``` -  вывести справочную информацию;
- ```--version``` - выводит информацию о текущей версии утилиты.

*Рисунок 25: вывод man для rm*

![](https://sun9-57.userapi.com/impg/SGrjaQXsgrS0Xr9cBPKe9TkQBp4LkO0zCxe_Aw/xuSs417sIE8.jpg?size=857x568&quality=96&sign=b0cf919d328fb0bee4fbd503d027f4f6&type=album)

*Рисунок 26: вывод man для rm*

![](https://sun9-26.userapi.com/impg/sv8F6TXQ1qi0z38KuR-Yq4XQ1dFpc1UFr4VQEQ/e4ksbXCTnj8.jpg?size=818x263&quality=96&sign=7290bc9fe334ea9690ba97c78e57b5cc&type=album)

Таким образом для **rm** основные опции это (*рисунки 25-26*):

- ```-f``` - игнорировать несуществующие файлы и аргументы. Никогда не выдавать запросы на подтверждение удаления;
- ```i``` - выводить запрос на подтверждение удаления каждого файла;
- ```-I``` - выдать один запрос на подтверждение удаления всех файлов, если удаляется больше трех файлов или используется рекурсивное удаление; опция применяется, как более «щадящая» версия опции -i.
- ```--interactive[=WHEN]``` - вместо WHEN можно использовать:

never — никогда не выдавать запросы на подтверждение удаления;

once — выводить запрос один раз (аналог опции -I);

always — выводить запрос всегда (аналог опции -i);

Если значение WHEN не задано, то используется always.

- ```--one-file-system``` - во время рекурсивного удаления пропускать директории, которые находятся на других файловых системах;
- ```--no-preserve-root``` - если в качестве директории для удаления задан корневой раздел /, то считать, что это обычная директория и начать выполнять удаление;
- ```-r, -R, --recursive``` - удаление директорий и их содержимого. Рекурсивное удаление;
- ```-d, --dir``` - удалять пустые директории;
- ```-v, --verbose``` - выводить информацию об удаляемых файлах;
- ```--help``` -  вывести справочную информацию;
- ```--version``` - выводит информацию о текущей версии утилиты.

7. Используя информацию, полученную при помощи команды ```history``` (*рисунок 27*), выполним модификацию и исполнение нескольких команд из буфера команд.

*Рисунок 27: вывод команды history*

![](https://sun9-12.userapi.com/impg/kTi7-bSEPb9CIg89mAT2t5jSbahhqJRd_vV5sA/dm0yuhi39xE.jpg?size=840x479&quality=96&sign=02634c6aa8bd103a6cb5f64aa8be9aaa&type=album)

Синтаксис модификаций:
```
!<номер строки команды>:<s>/<что заменяем>/<на что заменяем>
```
Таким образом получаем следующие модификации (*рисунок 28*):

*Рисунок 28: выполнение модификаций*

![](https://sun9-17.userapi.com/impg/8xaQdLP_n-GRKgbliR9NDgTfnghDDfac2lnUzQ/sNOHlxt_kq0.jpg?size=793x799&quality=96&sign=35a7b11a944f8b8ff4befb75cbee307e&type=album)

После второй модификации выполнили проверку с помощью ```ls -a```, видим, что вызов модификации прошел успешно и каталог crowd действительно был создан.

---

## **Вывод:**

Приобрела практические навыки взаимодействия пользователя с системой посредством командной строки.

### **Библиография:**

[1]: [Основные команды Linux](https://www.hostinger.ru/rukovodstva/osnovnyje-komandy-linux)
